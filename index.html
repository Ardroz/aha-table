<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>&lt;aha-table&gt;</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- Importing Web Component's Polyfill -->
	<script src="bower_components/webcomponentsjs/webcomponents.min.js"></script>

	<!-- Importing Custom Elements -->
	<link rel="import" href="src/aha-table.html">
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">
	<!-- used when shadow dom is natively implemented -->
	<style>
	#console {
		color: red;
	}
	</style>
</head>
<body>
	<!--<h2>Simplest usage: raw style, auto-detected columns, default attributes</h2>
	<aha-table id="raw"></aha-table>

	<hr/>
	-->
	<h2>Advanced usage: themed, customized columns, customized attributes, customized event handlers.</h2>
	<div id="console"></div>
	<aha-table id="themed"

		pagesize="10"
		data-sizelist="[10,50,100]"

		pagesizetext="Page Size: "
		summarytext="Viewing: "
		pagetext="Page:"
		pageoftext="of"
		itemoftext="of"

		searchtitle="Show/Hide Filters"
		sorttitle="click to sort"
		selecttitle="click to select"
		selectalltitle="click to select/deselect all"
		edittitle="click to edit"
		copytitle="click to copy"
		removetitle="click to remove"
		movedowntitle="move down"
		moveuptitle="move up"
		searchtitle="click to show/hide search filters bar"
		firsttitle="First"
		previoustitle="Previous"
		nexttitle="Next"
		lasttitle="Last"
		>
	</aha-table>
	<hr />
	<BUTTON id="create" onclick="themed.create();">Create</BUTTON>
	<BUTTON id="modifyData" onclick="loco();">CAmbiar data</BUTTON>
	<BUTTON id="modifyaData" onclick="loco2();">add data</BUTTON>

	<!--
	<hr/>
	<h2><a href="demo/performance.html">Performance Test</a></h2>
	-->

	<script>
		var recursos = [
			{
				"name": "Hedda",
				"date": "07-10-18",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed"
			},
			{
				"name": "Dylan",
				"date": "12-06-18",
				"content": "Lorem ipsum dolor sit amet, consectetuer"
			},
			{
				"name": "Cathleen",
				"date": "24-04-19",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit."
			},
			{
				"name": "Lionel",
				"date": "31-08-18",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur"
			},
			{
				"name": "Buckminster",
				"date": "29-12-18",
				"content": "Lorem ipsum dolor"
			},
			{
				"name": "Linus",
				"date": "22-04-19",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing"
			},
			{
				"name": "Gabriel",
				"date": "26-04-19",
				"content": "Lorem ipsum dolor"
			},
			{
				"name": "Yuri",
				"date": "10-11-19",
				"content": "Lorem ipsum dolor sit"
			},
			{
				"name": "Kibo",
				"date": "21-10-18",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit."
			},
			{
				"name": "Freya",
				"date": "20-05-19",
				"content": "Lorem ipsum dolor sit amet, consectetuer"
			},
			{
				"name": "Garrett",
				"date": "25-09-18",
				"content": "Lorem ipsum dolor sit"
			},
			{
				"name": "Jason",
				"date": "06-07-18",
				"content": "Lorem ipsum dolor"
			},
			{
				"name": "Chantale",
				"date": "03-10-19",
				"content": "Lorem ipsum dolor sit amet, consectetuer"
			},
			{
				"name": "Karen",
				"date": "13-06-18",
				"content": "Lorem ipsum dolor sit amet, consectetuer"
			},
			{
				"name": "Gareth",
				"date": "03-01-19",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur"
			},
			{
				"name": "Savannah",
				"date": "06-02-19",
				"content": "Lorem ipsum dolor sit"
			},
			{
				"name": "Ignacia",
				"date": "04-11-18",
				"content": "Lorem ipsum dolor sit amet,"
			},
			{
				"name": "Vivian",
				"date": "28-08-19",
				"content": "Lorem ipsum dolor sit"
			},
			{
				"name": "Madison",
				"date": "18-03-19",
				"content": "Lorem ipsum dolor sit"
			},
			{
				"name": "Renee",
				"date": "29-08-18",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit."
			},
			{
				"name": "Drake",
				"date": "29-06-19",
				"content": "Lorem ipsum dolor sit amet, consectetuer"
			},
			{
				"name": "Hannah",
				"date": "27-04-18",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing"
			},
			{
				"name": "Josiah",
				"date": "08-11-19",
				"content": "Lorem ipsum dolor sit"
			},
			{
				"name": "Kareem",
				"date": "28-01-20",
				"content": "Lorem ipsum dolor sit amet, consectetuer"
			},
			{
				"name": "Tyrone",
				"date": "13-05-19",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur"
			},
			{
				"name": "Malik",
				"date": "30-04-19",
				"content": "Lorem ipsum dolor sit amet,"
			},
			{
				"name": "Jonah",
				"date": "17-08-19",
				"content": "Lorem ipsum dolor sit amet,"
			},
			{
				"name": "Kieran",
				"date": "24-04-18",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur"
			},
			{
				"name": "Anthony",
				"date": "15-08-19",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur"
			},
			{
				"name": "Hilda",
				"date": "24-11-19",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing"
			},
			{
				"name": "Igor",
				"date": "15-09-18",
				"content": "Lorem ipsum dolor"
			},
			{
				"name": "Amos",
				"date": "17-02-20",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur"
			},
			{
				"name": "Kevyn",
				"date": "14-02-19",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit."
			},
			{
				"name": "Kiona",
				"date": "17-11-18",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing"
			},
			{
				"name": "Blaze",
				"date": "30-08-18",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing"
			},
			{
				"name": "Bernard",
				"date": "12-07-19",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur"
			},
			{
				"name": "Rajah",
				"date": "30-03-18",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit."
			},
			{
				"name": "Dexter",
				"date": "02-12-18",
				"content": "Lorem ipsum dolor sit amet,"
			},
			{
				"name": "Samson",
				"date": "07-01-20",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing"
			},
			{
				"name": "Riley",
				"date": "29-09-18",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing"
			},
			{
				"name": "Dakota",
				"date": "02-02-19",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur"
			},
			{
				"name": "Jenna",
				"date": "30-09-18",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit."
			},
			{
				"name": "Emery",
				"date": "10-05-19",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur"
			},
			{
				"name": "Maite",
				"date": "26-07-19",
				"content": "Lorem ipsum dolor"
			},
			{
				"name": "Cheyenne",
				"date": "14-08-19",
				"content": "Lorem ipsum dolor sit"
			},
			{
				"name": "Philip",
				"date": "13-01-19",
				"content": "Lorem ipsum dolor sit"
			},
			{
				"name": "Maxwell",
				"date": "14-01-20",
				"content": "Lorem ipsum dolor"
			},
			{
				"name": "Acton",
				"date": "06-11-18",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur"
			},
			{
				"name": "Hop",
				"date": "17-04-19",
				"content": "Lorem ipsum dolor sit"
			},
			{
				"name": "Cherokee",
				"date": "18-12-19",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit."
			},
			{
				"name": "Neve",
				"date": "17-04-18",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed"
			},
			{
				"name": "Lester",
				"date": "31-08-18",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed"
			},
			{
				"name": "Axel",
				"date": "30-11-18",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit."
			},
			{
				"name": "Jacob",
				"date": "11-12-19",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed"
			},
			{
				"name": "Carlos",
				"date": "14-02-19",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur"
			},
			{
				"name": "Beck",
				"date": "17-01-19",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing"
			},
			{
				"name": "Alice",
				"date": "17-04-18",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing"
			},
			{
				"name": "Noah",
				"date": "24-03-18",
				"content": "Lorem ipsum dolor sit amet, consectetuer"
			},
			{
				"name": "Tatyana",
				"date": "23-07-18",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit."
			},
			{
				"name": "Matthew",
				"date": "12-06-18",
				"content": "Lorem ipsum dolor sit amet, consectetuer"
			},
			{
				"name": "Jelani",
				"date": "17-12-18",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit."
			},
			{
				"name": "Quentin",
				"date": "03-07-19",
				"content": "Lorem ipsum dolor"
			},
			{
				"name": "Jameson",
				"date": "15-08-19",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur"
			},
			{
				"name": "Nash",
				"date": "06-07-19",
				"content": "Lorem ipsum dolor sit amet,"
			},
			{
				"name": "Abel",
				"date": "07-07-18",
				"content": "Lorem ipsum dolor sit"
			},
			{
				"name": "Callum",
				"date": "09-02-19",
				"content": "Lorem ipsum dolor"
			},
			{
				"name": "Michelle",
				"date": "17-03-18",
				"content": "Lorem ipsum dolor sit"
			},
			{
				"name": "Wallace",
				"date": "11-11-19",
				"content": "Lorem ipsum dolor sit amet,"
			},
			{
				"name": "Nero",
				"date": "22-04-19",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur"
			},
			{
				"name": "Lucius",
				"date": "19-06-19",
				"content": "Lorem ipsum dolor sit amet, consectetuer"
			},
			{
				"name": "Vaughan",
				"date": "11-07-19",
				"content": "Lorem ipsum dolor sit amet, consectetuer"
			},
			{
				"name": "Candice",
				"date": "28-01-19",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed"
			},
			{
				"name": "Dara",
				"date": "07-09-18",
				"content": "Lorem ipsum dolor sit amet,"
			},
			{
				"name": "Jessica",
				"date": "26-10-18",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit."
			},
			{
				"name": "Colette",
				"date": "09-12-19",
				"content": "Lorem ipsum dolor sit"
			},
			{
				"name": "Raphael",
				"date": "26-07-19",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur"
			},
			{
				"name": "Acton",
				"date": "29-09-19",
				"content": "Lorem ipsum dolor sit amet,"
			},
			{
				"name": "Murphy",
				"date": "06-09-19",
				"content": "Lorem ipsum dolor"
			},
			{
				"name": "Palmer",
				"date": "23-04-19",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit."
			},
			{
				"name": "Knox",
				"date": "14-02-19",
				"content": "Lorem ipsum dolor"
			},
			{
				"name": "Rudyard",
				"date": "03-06-19",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing"
			},
			{
				"name": "Matthew",
				"date": "14-01-20",
				"content": "Lorem ipsum dolor sit"
			},
			{
				"name": "Yetta",
				"date": "02-03-19",
				"content": "Lorem ipsum dolor sit"
			},
			{
				"name": "Lillith",
				"date": "12-02-20",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit."
			},
			{
				"name": "Kyla",
				"date": "26-09-19",
				"content": "Lorem ipsum dolor sit amet, consectetuer"
			},
			{
				"name": "Casey",
				"date": "15-09-19",
				"content": "Lorem ipsum dolor sit"
			},
			{
				"name": "Kai",
				"date": "09-03-20",
				"content": "Lorem ipsum dolor sit amet, consectetuer"
			},
			{
				"name": "Brian",
				"date": "18-09-19",
				"content": "Lorem ipsum dolor"
			},
			{
				"name": "Tallulah",
				"date": "09-03-20",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit."
			},
			{
				"name": "Serena",
				"date": "24-10-18",
				"content": "Lorem ipsum dolor sit"
			},
			{
				"name": "Hanna",
				"date": "07-06-18",
				"content": "Lorem ipsum dolor sit amet, consectetuer"
			},
			{
				"name": "Ariel",
				"date": "02-08-19",
				"content": "Lorem ipsum dolor sit amet,"
			},
			{
				"name": "Ima",
				"date": "16-05-19",
				"content": "Lorem ipsum dolor sit"
			},
			{
				"name": "Cynthia",
				"date": "28-03-18",
				"content": "Lorem ipsum dolor sit amet,"
			},
			{
				"name": "Raya",
				"date": "30-01-20",
				"content": "Lorem ipsum dolor"
			},
			{
				"name": "Winter",
				"date": "05-08-18",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur"
			},
			{
				"name": "April",
				"date": "02-02-20",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur"
			},
			{
				"name": "Donovan",
				"date": "10-03-20",
				"content": "Lorem ipsum dolor sit amet, consectetuer"
			},
			{
				"name": "Hedda",
				"date": "24-09-18",
				"content": "Lorem ipsum dolor sit"
			},
			{
				"name": "Ciaran",
				"date": "02-06-19",
				"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing"
			}
		]
		var sort;
		var cargarRecursos = function (many, index) {
			var copia = recursos.slice(0, recursos.length);
			console.log(sort);
			if (sort) {
				console.log("osrt");
				if (sort.sortingColumn === "name"){
					console.log("name");

					if (sort.descending) {
						console.log("dessrt");

						copia.sort(function(a, b) {
							if (a.name < b.name) {
								return 1;
							}
							if (a.name > b.name) {
								return -1;
							}
							// a must be equal to b
							return 0;
						});
					}
					else {
					console.log("nodes");

						copia.sort(function(a, b) {
							if (a.name > b.name) {
								return 1;
							}
							if (a.name < b.name) {
								return -1;
							}
							// a must be equal to b
							return 0;
						});
					}
				}
			}
			console.log(copia);
			console.log(index);
			var first = new Array(index);
			var end = new Array(copia.length - (index + many));
			var data = copia.slice(index, index + many);
			data = first.concat(data);
			data = data.concat(end);
			return {
				total: copia.length,
				data: data
			};
		}
		loco = function () {
			console.log("loco");
			themed.data = events2;
			themed.pagesizeChanged();
		};
		loco2 = function () {
			console.log("loco2");
			events2 = events2.concat(even);
			themed.data = events2;
		};
		var even = [
			{ title: "gyperrorororom2", date: new Date().toISOString().slice(0, 10), content: "5*20 situps, 5 miles running, 5 minutes PLANKS", enabled: true, html: "<a href='http://www.google.com'>Search</a>"},
			{ title: "perrororororobreakfast2", date: new Date().toISOString().slice(0, 10), enabled: true }
		];
		var events2 = [
			{ title: "gym2", date: new Date().toISOString().slice(0, 10), content: "5*20 situps, 5 miles running, 5 minutes PLANKS", enabled: true, html: "<a href='http://www.google.com'>Search</a>"},
			{ title: "breakfast2", date: new Date().toISOString().slice(0, 10), enabled: true },
			{ title: "work2", date: new Date().toISOString().slice(0, 10), content: "implement aha-table plymer element", enabled: true },
			{ title: "lunch2", date: new Date().toISOString().slice(0, 10), content: null, enabled: false },
			{ title: "work2", date: new Date().toISOString().slice(0, 10), content: "implement aha-table plymer element" },
			{ title: "lunch2", date: new Date().toISOString().slice(0, 10), content: null },
			{ title: "work2", date: new Date().toISOString().slice(0, 10), content: "implement aha-table plymer element", enabled: true },
			{ title: "2", date: new Date().toISOString().slice(0, 10), content: null },
			{ title: "work2", date: new Date().toISOString().slice(0, 10), content: "implement aha-table plymer element", enabled: true },
			{ title: "2", date: new Date().toISOString().slice(0, 10), content: null },
			{ title: "meeting2", date: new Date().toISOString().slice(0, 10), content: "introduce web components to the team" },
			{ title: "dinner2", date: new Date().toISOString().slice(0, 10) }
		];
		var events = [
			{ title: "gym", date: new Date().toISOString().slice(0, 10), content: "5*20 situps, 5 miles running, 5 minutes PLANKS", enabled: true, html: "<a href='http://www.google.com'>Search</a>"},
			{ title: "breakfast", date: new Date().toISOString().slice(0, 10), enabled: true },
			{ title: "work", date: new Date().toISOString().slice(0, 10), content: "implement aha-table plymer element", enabled: true },
			{ title: "lunch", date: new Date().toISOString().slice(0, 10), content: null, enabled: false },
			{ title: "work", date: new Date().toISOString().slice(0, 10), content: "implement aha-table plymer element" },
			{ title: "lunch", date: new Date().toISOString().slice(0, 10), content: null },
			{ title: "work", date: new Date().toISOString().slice(0, 10), content: "implement aha-table plymer element", enabled: true },
			{ title: "", date: new Date().toISOString().slice(0, 10), content: null },
			{ title: "work", date: new Date().toISOString().slice(0, 10), content: "implement aha-table plymer element", enabled: true },
			{ title: "", date: new Date().toISOString().slice(0, 10), content: null },
			{ title: "meeting", date: new Date().toISOString().slice(0, 10), content: "introduce web components to the team" },
			{ title: "dinner", date: new Date().toISOString().slice(0, 10) }
		];
		var actions = [
			{ icon: "favorite", action: 'save' },
			{ icon: "save", action: 'delete' }
		]
		var themed  = document.getElementById("themed");
		themed.actions = actions;
		themed.meta = [];
		var luca = cargarRecursos(10, 0);
		themed.setManualPages(luca.total);
		themed.data = luca.data;
		console.log(luca);
		themed.save = function (a) {
			console.log(themed.pagesize);
			console.log('sace', a);
		};
		themed.delete = function (a) {
			console.log('delete', a);
		};
		var table_log = function(msg) {
			document.getElementById("console").innerHTML = msg;
		};
		themed.addEventListener('page-changed', function () {
			var luca = cargarRecursos(themed.pagesize, (themed.currentpage - 1) * themed.pagesize);
			themed.setManualPages(luca.total);
			themed.data = luca.data;
		});
		themed.addEventListener('sort-column', function (e) {
			console.log("%%%%%%%%%%%%%%%%%%%//");
			sort = e.detail;
			var luca = cargarRecursos(themed.pagesize, (themed.currentpage - 1) * themed.pagesize);
			themed.setManualPages(luca.total);
			themed.data = luca.data;

		});
		themed.addEventListener('after-invalid', function(e) {
			table_log('This field is required');
			e.detail.row._editing=true;
			e.detail.event.target.focus();
		});
		themed.addEventListener('after-create', function(e) {
			table_log('created one record');
		});
		themed.addEventListener('after-remove', function(e) {
			table_log('removed one record!');
		});
		themed.addEventListener('after-copy', function(e) {
			table_log('copied one record!');
		});
		themed.addEventListener('after-save', function(e) {
			table_log('saved one record!');
		});
		themed.addEventListener('after-move-down', function(e) {
			table_log('moved one record down!');
		});
		themed.addEventListener('after-move-up', function(e) {
			table_log('moved one record up!');
		});
		themed.customRenderer = function(datum, row, col, ahaTable) {
				return datum.toUpperCase();
		}
	</script>
</body>
</html>
