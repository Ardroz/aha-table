<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>&lt;aha-table&gt;</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- Importing Web Component's Polyfill -->
	<script src="bower_components/webcomponentsjs/webcomponents.min.js"></script>

	<!-- Importing Custom Elements -->
	<link rel="import" href="src/aha-table.html">
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">
	<!-- used when shadow dom is natively implemented -->
	<style>
	#console {
		color: red;
	}
	</style>
</head>
<body>
	<!--<h2>Simplest usage: raw style, auto-detected columns, default attributes</h2>
	<aha-table id="raw"></aha-table>

	<hr/>
	-->
	<h2>Advanced usage: themed, customized columns, customized attributes, customized event handlers.</h2>
	<div id="console"></div>
	<aha-table id="themed"

		selectable
		searchable
		copyable
		removable
		movable

		pagesize="5"
		data-sizelist="[5]"

		pagesizetext="Page Size: "
		summarytext="Viewing: "
		pagetext="Page:"
		pageoftext="of"
		itemoftext="of"

		searchtitle="Show/Hide Filters"
		sorttitle="click to sort"
		selecttitle="click to select"
		selectalltitle="click to select/deselect all"
		edittitle="click to edit"
		copytitle="click to copy"
		removetitle="click to remove"
		movedowntitle="move down"
		moveuptitle="move up"
		searchtitle="click to show/hide search filters bar"
		firsttitle="First"
		previoustitle="Previous"
		nexttitle="Next"
		lasttitle="Last"
		>
	</aha-table>
	<hr />
	<BUTTON id="create" onclick="themed.create();">Create</BUTTON>
	<BUTTON id="modifyData" onclick="loco();">CAmbiar data</BUTTON>
	<BUTTON id="modifyaData" onclick="loco2();">add data</BUTTON>

	<!--
	<hr/>
	<h2><a href="demo/performance.html">Performance Test</a></h2>
	-->

	<script>
		loco = function () {
			console.log("loco");
			themed.data = events2;
			themed.pagesizeChanged();
		};
		loco2 = function () {
			console.log("loco2");
			events2 = events2.concat(even);
			themed.data = events2;
		};
		var even = [
			{ title: "gyperrorororom2", date: new Date().toISOString().slice(0, 10), content: "5*20 situps, 5 miles running, 5 minutes PLANKS", enabled: true, html: "<a href='http://www.google.com'>Search</a>"},
			{ title: "perrororororobreakfast2", date: new Date().toISOString().slice(0, 10), enabled: true }
		];
		var events2 = [
			{ title: "gym2", date: new Date().toISOString().slice(0, 10), content: "5*20 situps, 5 miles running, 5 minutes PLANKS", enabled: true, html: "<a href='http://www.google.com'>Search</a>"},
			{ title: "breakfast2", date: new Date().toISOString().slice(0, 10), enabled: true },
			{ title: "work2", date: new Date().toISOString().slice(0, 10), content: "implement aha-table plymer element", enabled: true },
			{ title: "lunch2", date: new Date().toISOString().slice(0, 10), content: null, enabled: false },
			{ title: "work2", date: new Date().toISOString().slice(0, 10), content: "implement aha-table plymer element" },
			{ title: "lunch2", date: new Date().toISOString().slice(0, 10), content: null },
			{ title: "work2", date: new Date().toISOString().slice(0, 10), content: "implement aha-table plymer element", enabled: true },
			{ title: "2", date: new Date().toISOString().slice(0, 10), content: null },
			{ title: "work2", date: new Date().toISOString().slice(0, 10), content: "implement aha-table plymer element", enabled: true },
			{ title: "2", date: new Date().toISOString().slice(0, 10), content: null },
			{ title: "meeting2", date: new Date().toISOString().slice(0, 10), content: "introduce web components to the team" },
			{ title: "dinner2", date: new Date().toISOString().slice(0, 10) }
		];
		var events = [
			{ title: "gym", date: new Date().toISOString().slice(0, 10), content: "5*20 situps, 5 miles running, 5 minutes PLANKS", enabled: true, html: "<a href='http://www.google.com'>Search</a>"},
			{ title: "breakfast", date: new Date().toISOString().slice(0, 10), enabled: true },
			{ title: "work", date: new Date().toISOString().slice(0, 10), content: "implement aha-table plymer element", enabled: true },
			{ title: "lunch", date: new Date().toISOString().slice(0, 10), content: null, enabled: false },
			{ title: "work", date: new Date().toISOString().slice(0, 10), content: "implement aha-table plymer element" },
			{ title: "lunch", date: new Date().toISOString().slice(0, 10), content: null },
			{ title: "work", date: new Date().toISOString().slice(0, 10), content: "implement aha-table plymer element", enabled: true },
			{ title: "", date: new Date().toISOString().slice(0, 10), content: null },
			{ title: "work", date: new Date().toISOString().slice(0, 10), content: "implement aha-table plymer element", enabled: true },
			{ title: "", date: new Date().toISOString().slice(0, 10), content: null },
			{ title: "meeting", date: new Date().toISOString().slice(0, 10), content: "introduce web components to the team" },
			{ title: "dinner", date: new Date().toISOString().slice(0, 10) }
		];
		var actions = [
			{ icon: "favorite", action: 'save' },
			{ icon: "save", action: 'delete' }
		]
		var themed  = document.getElementById("themed");
		themed.setManualPages(100, 10);
		themed.actions = actions;
		themed.meta = [];
		themed.data = events;
		themed.save = function (a) {
			console.log('sace', a);
		};
		themed.delete = function (a) {
			console.log('delete', a);
		};
		themed.data = JSON.parse(JSON.stringify(events));//deep copy so that they have independent data source.
		var table_log = function(msg) {
			document.getElementById("console").innerHTML = msg;
		};
		themed.addEventListener('page-changed', function (e) {
			console.log(e);
			console.log("///////////////////////");
		});
		themed.addEventListener('sort-column', function (e) {
			console.log(e);
			console.log("%%%%%%%%%%%%%%%%%%%//");
		});
		themed.addEventListener('after-invalid', function(e) {
			table_log('This field is required');
			e.detail.row._editing=true;
			e.detail.event.target.focus();
		});
		themed.addEventListener('after-create', function(e) {
			table_log('created one record');
		});
		themed.addEventListener('after-remove', function(e) {
			table_log('removed one record!');
		});
		themed.addEventListener('after-copy', function(e) {
			table_log('copied one record!');
		});
		themed.addEventListener('after-save', function(e) {
			table_log('saved one record!');
		});
		themed.addEventListener('after-move-down', function(e) {
			table_log('moved one record down!');
		});
		themed.addEventListener('after-move-up', function(e) {
			table_log('moved one record up!');
		});
        themed.customRenderer = function(datum, row, col, ahaTable) {
            return datum.toUpperCase();
        }
	</script>
</body>
</html>
